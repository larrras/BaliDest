<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>REGISTER | Balidest</title>

    <link rel="icon" href="{{ url_for('static', filename='LogoBalidest.ico') }}" type="image/x-icon" />
    <meta property="og:title" content="Balidest" />
    <meta property="og:description"
        content="Website ini bertujuan sebagai sumber informasi tentang destinasi wisata di Bali. Nama Balidest merupakan kependekan dari Bali Destinasi. Balidest menyediakan informasi dan ulasan dari para wisatawan yang telah mengunjungi destinasi yang ditampilkan." />
    <meta property="og:image" content="{{ url_for('static', filename='nav.png') }}" />
    
    <!-- Link bootstrap CDN untuk menggunakan bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
        crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <!-- css internal untuk mengatur design dari halaman -->
    
    <!-- Link icon -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="../static/styleregister.css">

    <script>
        // Pada fungsi ini, kita menggunakan id user,
        // password, dan nickname, untuk mendaftarkan mereka
        // ke database kita
        function register() {
            $.ajax({
                type: "POST",
                url: "/api/register",
                data: {
                    id_give: $("#userid").val(),
                    pw_give: $("#userpw").val(),
                    nickname_give: $("#usernick").val(),
                },
                success: function (response) {
                    if (response["result"] === "success") {
                        alert("Registrasi Berhasil!");
                        window.location.href = "/login";
                    } else {
                        alert(response.message);
                        window.location.href = "/register";
                    }
                },
            });
        }
        function have_login() {
            window.location.href = '/'
        }
    </script>


</head>

<body>
    <div class="register">

        <h2 style="font-size: 40px;"><b>Register</b></h2>

        <div class="box-register">
            <label class="form-label fw-bold" for="usernick" style="color:white; margin-top: 15px;"><i style='font-size:24px' class='fas'>&#xf406;</i></label>
            <input type="text" id="usernick" placeholder="Nickname">
        </div>

        <div class="box-register">
            <label class="form-label fw-bold" for="userid" style="color:white; margin-top: 15px;"><i style='font-size:24px' class='fas'>&#xf2bd;</i></label>
            <input type="text" id="userid" placeholder="ID">
        </div>

        <div class="box-register">
            <label class="form-label fw-bold" for="userpw" style="color:white; font-size: 15px;"><i style='font-size:24px' class='fas'>&#xf023;</i></label>
            <input type="password" id="userpw" placeholder="Password">
        </div>

        <button type="submit"  class="btn-register" onclick="register()"><b>Register</b></button>
    </div>
</body>

</html>
